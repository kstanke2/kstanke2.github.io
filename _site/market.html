<!doctype html>




<html
    dir="ltr"
    lang="en"
    
        class="has-navbar-fixed-top"
    
>
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link
        rel="shortcut icon"
        type="image/png"
        
            href="/favicon.png"
        
    >
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>MARKET | Kimberly Stanke, Ph.D.</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="MARKET" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A space for musings, creative works, and a record of my professional journey." />
<meta property="og:description" content="A space for musings, creative works, and a record of my professional journey." />
<link rel="canonical" href="http://localhost:4000/market" />
<meta property="og:url" content="http://localhost:4000/market" />
<meta property="og:site_name" content="Kimberly Stanke, Ph.D." />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="MARKET" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"A space for musings, creative works, and a record of my professional journey.","headline":"MARKET","url":"http://localhost:4000/market"}</script>
<!-- End Jekyll SEO tag -->

    <!-- head scripts -->
</head>

    <body>
        
        <nav
    class="navbar is-primary  is-fixed-top "
    x-data="{ openNav: false }"
>
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                Kimberly Stanke, Ph.D.
            </a>
            <a
                role="button"
                class="navbar-burger burger"
                aria-label="menu"
                aria-expanded="false"
                data-target="navMenu"
                :class="{ 'is-active': openNav }"
                x-on:click="openNav = !openNav"
            >
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                    
                        
                            <a
                                href="/publications"
                                class="navbar-item "
                            >Publications</a>
                        
                    
                        
                            <a
                                href="/courses"
                                class="navbar-item "
                            >Courses</a>
                        
                    
                        
                            <div class="navbar-item has-dropdown is-hoverable ">
                                <a
                                    href="/data-driven"
                                    class="navbar-link "
                                >Data Driven</a>
                                <div class="navbar-dropdown">
                                    
                                        <a
                                            href="/market"
                                            class="navbar-item is-active"
                                        >MARKET</a>
                                    
                                </div>
                            </div>
                        
                    
                
            </div>

            <div class="navbar-end">
                
            </div>
        </div>
    </div>
</nav>

        
        

        <section class="section">
            <div class="container">
                <div class="columns is-multiline">
                    
                    <div class="column is-12">
                        

                        

                        

                        

                        
<div class="content">
    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <title>MARKET Return</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
      background-color: #f5f5f5;
    }
    
    h1 {
      color: #333;
    }
    
    .container {
      display: flex;
      justify-content: space-between;
      gap: 20px;
    }
    
    .column {
      flex: 1;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    
    .dice-container, .slot-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 30px 0;
    }
    
    .dice {
      width: 100px;
      height: 100px;
      background-color: white;
      border-radius: 10px;
      border: 2px solid #333;
      overflow: hidden;
      position: relative;
    }

    .centered-controls {
  display: flex;
  justify-content: center; /* Center horizontally */
  align-items: center; /* Center vertically */
}

    .slot {
      width: 200px;
      height: 100px;
      background-color: white;
      border-radius: 10px;
      border: 2px solid #333;
      overflow: hidden;
      position: relative;
    }
    
    .dice-strip, .slot-strip {
      position: absolute;
      width: 100%;
      height: 1800px; /* Increased height for more repetitions */
      transition: top 2s ease-out; /* Increased duration */
      top: 0;
    }
    
    .dice-face {
      width: 100px;
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 40px;
      font-weight: bold;
    }

    .slot-face {
      width: 200px;
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 40px;
      font-weight: bold;
    }
    
    .slot-face.boon {
      background-color: black;
      color: white;
    }
    
    .slot-face.neutral {
      background-color: blue;
      color: white;
    }
    
    .slot-face.bust {
      background-color: red;
      color: white;
    }
    
    .controls {
      margin: 20px 0;
    }
    
    button {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 10px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 5px;
    }
    
    button:hover {
      background-color: #45a049;
    }
    
    button#reset {
      background-color: #f44336;
    }
    
    button#reset:hover {
      background-color: #d32f2f;
    }
    
    .result {
      font-size: 24px;
      margin: 20px 0;
    }
    
    .history {
      border: 1px solid #ddd;
      padding: 10px;
      max-height: 200px;
      overflow-y: auto;
      margin: 20px auto;
      width: 80%;
      background-color: white;
      text-align: left;
    }
    
    .history-item {
      margin: 5px 0;
      padding: 5px;
      border-bottom: 1px solid #eee;
    }

    table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: center; /* Center horizontally */
  vertical-align: middle; /* Center vertically */
}

th {
  background-color: #f2f2f2;
  font-weight: bold;
}

    .highlight-red {
  background-color: red;
  color: white;
    }
    
    .dot {
      height: 18px;
      width: 18px;
      background-color: #333;
      border-radius: 50%;
      display: inline-block;
    }
    
    .dice-dots {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: 1fr 1fr 1fr;
      width: 100%;
      height: 100%;
      padding: 10px;
      box-sizing: border-box;
    }
    
    /* For dice face 1 */
    .dots-1 .dot:nth-child(1) {
      grid-column: 2;
      grid-row: 2;
    }
    
    /* For dice face 2 */
    .dots-2 .dot:nth-child(1) {
      grid-column: 1;
      grid-row: 1;
    }
    .dots-2 .dot:nth-child(2) {
      grid-column: 3;
      grid-row: 3;
    }
    
    /* For dice face 3 */
    .dots-3 .dot:nth-child(1) {
      grid-column: 1;
      grid-row: 1;
    }
    .dots-3 .dot:nth-child(2) {
      grid-column: 2;
      grid-row: 2;
    }
    .dots-3 .dot:nth-child(3) {
      grid-column: 3;
      grid-row: 3;
    }
    
    /* For dice face 4 */
    .dots-4 .dot:nth-child(1) {
      grid-column: 1;
      grid-row: 1;
    }
    .dots-4 .dot:nth-child(2) {
      grid-column: 3;
      grid-row: 1;
    }
    .dots-4 .dot:nth-child(3) {
      grid-column: 1;
      grid-row: 3;
    }
    .dots-4 .dot:nth-child(4) {
      grid-column: 3;
      grid-row: 3;
    }
    
    /* For dice face 5 */
    .dots-5 .dot:nth-child(1) {
      grid-column: 1;
      grid-row: 1;
    }
    .dots-5 .dot:nth-child(2) {
      grid-column: 3;
      grid-row: 1;
    }
    .dots-5 .dot:nth-child(3) {
      grid-column: 2;
      grid-row: 2;
    }
    .dots-5 .dot:nth-child(4) {
      grid-column: 1;
      grid-row: 3;
    }
    .dots-5 .dot:nth-child(5) {
      grid-column: 3;
      grid-row: 3;
    }
    
    /* For dice face 6 */
    .dots-6 .dot:nth-child(1) {
      grid-column: 1;
      grid-row: 1;
    }
    .dots-6 .dot:nth-child(2) {
      grid-column: 3;
      grid-row: 1;
    }
    .dots-6 .dot:nth-child(3) {
      grid-column: 1;
      grid-row: 2;
    }
    .dots-6 .dot:nth-child(4) {
      grid-column: 3;
      grid-row: 2;
    }
    .dots-6 .dot:nth-child(5) {
      grid-column: 1;
      grid-row: 3;
    }
    .dots-6 .dot:nth-child(6) {
      grid-column: 3;
      grid-row: 3;
    }

    .letter-block {
      width: 80px;
      height: 80px;
      background-color: white;
      border: 2px solid #333;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 58px;
      font-weight: bold;
      cursor: pointer;
      margin: 0 5px;
      margin-bottom: 10px;
      transition: background-color 0.3s;
    }

    .letter-block.highlighted {
      background-color: yellow;
    }

    #letters-container {
  display: flex;
  flex-direction: row; /* Arrange letter blocks horizontally */
  justify-content: center; /* Center horizontally */
  align-items: center; /* Center vertically */
  height: 100%; /* Ensure the container takes up the full height of the column */
}

.market-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.market-table th, .market-table td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: center; /* Center horizontally */
  vertical-align: middle; /* Center vertically */
}

.market-table th {
  background-color: #f2f2f2;
  font-weight: bold;
}

  </style>
</head>
<body>

  <div id="letters-container">
    <div class="letter-block" id="block-M">M</div>
    <div class="letter-block" id="block-A">A</div>
    <div class="letter-block" id="block-R">R</div>
    <div class="letter-block" id="block-K">K</div>
    <div class="letter-block" id="block-E">E</div>
    <div class="letter-block" id="block-T">T</div>
  </div>

  <div class="container">

    <div class="column">
        <h2>Instructions</h2>
        <p>Click on the letter blocks to help you keep track of which stage you are on. </p>    
        <p>Then, click the "Check Market Condition" button to spin the slot and determine the condition of the market. Each market condition applies a different multiplier to your profit for the round.</p>
        <p>Finally, click the "Roll Dice" button to test the market and see the results.</p>
        <p>You can choose to stop and walk away with your profits or to press your luck by rolling again. But, be aware, if a die shows a 1, your profits go to zero!</p>
        <p>If you want to start over, just click "Reset Market."</p>
    </div>

    <div class="column">
      <h2>Condition</h2>
      <div class="slot-container">
        <div class="slot" id="slot1">
          <div class="slot-strip" id="slot-strip1"></div>
        </div>
      </div>
  
      <div class="controls centered-controls">
        <button id="spin">Check Market Condition</button>
      </div>
        <p>Each market condition has equal probability, but different profit multipliers.</p>

        <table class="market-table">
            <thead>
              <tr>
                <th>Market State</th>
                <th>Probability</th>
                <th>Multiplier</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Bust</td>
                <td>1/3</td>
                <td>0.85</td>
              </tr>
              <tr>
                <td>Neutral</td>
                <td>1/3</td>
                <td>1</td>
              </tr>
              <tr>
                <td>Boon</td>
                <td>1/3</td>
                <td>1.35</td>
              </tr>
            </tbody>
          </table>


    </div>
    
    <div class="column">
      <h2>Test the MARKET</h2>
      <div class="dice-container">
        <div class="dice" id="dice1">
          <div class="dice-strip" id="strip1"></div>
        </div>
        <div class="dice" id="dice2">
          <div class="dice-strip" id="strip2"></div>
        </div>
      </div>
      
      <div class="controls centered-controls">
        <button id="roll">Roll Dice</button>
      </div>
      <p>The dice roll independently and fairly.</p>
    <p>Each die has an equal probability of rolling any number from 1 to 6.</p>

      <p>
        \[
        P(\text{Roll Left}|\text{Roll Right})=P(\text{Roll Left})
        \]
      </p>


      <table class="market-table">
          <thead>
            <tr>
              <th>Die</th>
              <th>Probability of Rolling 1</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Left</td>
              <td>1/6</td>
            </tr>
            <tr>
              <td>Right</td>
              <td>1/6</td>
            </tr>
          </tbody>
        </table>

    </div>


  </div>
</div>
  
  <h2>Profit</h2>
  <div class="controls centered-controls">
    <button id="reset">Reset Market</button>
  </div>
  <div class="history" id="history"></div>


  
  <script>
    // Variable to store the currently highlighted block
    let highlightedBlock = null;

    // Function to highlight a block
    function highlightBlock(blockId) {
      // Remove highlight from the previously highlighted block
      if (highlightedBlock) {
        highlightedBlock.classList.remove('highlighted');
      }

      // Highlight the newly clicked block
      const block = document.getElementById(blockId);
      block.classList.add('highlighted');

      // Update the highlightedBlock variable
      highlightedBlock = block;
    }

    // Add event listeners to the letter blocks
    document.getElementById('block-M').addEventListener('click', () => highlightBlock('block-M'));
    document.getElementById('block-A').addEventListener('click', () => highlightBlock('block-A'));
    document.getElementById('block-R').addEventListener('click', () => highlightBlock('block-R'));
    document.getElementById('block-K').addEventListener('click', () => highlightBlock('block-K'));
    document.getElementById('block-E').addEventListener('click', () => highlightBlock('block-E'));
    document.getElementById('block-T').addEventListener('click', () => highlightBlock('block-T'));

    // Create dice strips with all faces
    function createDiceStrip(stripId) {
      const strip = document.getElementById(stripId);
      strip.innerHTML = '';
      
      // Create multiple sets of dice faces for the animation effect
      for (let j = 0; j < 5; j++) { // Increased repetitions
        for (let i = 1; i <= 6; i++) {
          const face = document.createElement('div');
          face.className = 'dice-face';
          
          const dotsContainer = document.createElement('div');
          dotsContainer.className = `dice-dots dots-${i}`;
          
          // Add the appropriate number of dots
          for (let d = 0; d < i; d++) {
            const dot = document.createElement('span');
            dot.className = 'dot';
            dotsContainer.appendChild(dot);
          }
          
          face.appendChild(dotsContainer);
          strip.appendChild(face);
        }
      }
      
      return strip;
    }
    
    const strip1 = createDiceStrip('strip1');
    const strip2 = createDiceStrip('strip2');
    
    // Set initial position
    strip1.style.top = '0px';
    strip2.style.top = '0px';
    
    // Roll results array
    let rollHistory = [];
    
    // Function to animate and roll dice
    function rollDice() {
      const dice1 = Math.floor(Math.random() * 6) + 1;
      const dice2 = Math.floor(Math.random() * 6) + 1;
      const sum = dice1 + dice2;
      
      // Calculate final positions (middle set of faces)
      const faceHeight = 100; // Height of each dice face in pixels
      const finalPos1 = -((dice1 - 1 + 12) * faceHeight); // +12 to target middle set
      const finalPos2 = -((dice2 - 1 + 12) * faceHeight);
      
      // Start from random position in the first set
      const startPos1 = -(Math.floor(Math.random() * 6) * faceHeight);
      const startPos2 = -(Math.floor(Math.random() * 6) * faceHeight);
      
      strip1.style.transition = 'none';
      strip2.style.transition = 'none';
      strip1.style.top = `${startPos1}px`;
      strip2.style.top = `${startPos2}px`;
      
      // Force reflow
      void strip1.offsetHeight;
      void strip2.offsetHeight;
      
      // Set animation
      strip1.style.transition = 'top 2s ease-out'; // Increased duration
      strip2.style.transition = 'top 2s ease-out'; // Increased duration
      strip1.style.top = `${finalPos1}px`;
      strip2.style.top = `${finalPos2}px`;
      
      // Add to history
      const timestamp = new Date().toLocaleTimeString();
      rollHistory.unshift({ dice1, dice2, sum, timestamp });
      updateHistory();
      
      // Disable button during animation
      document.getElementById('roll').disabled = true;
      setTimeout(() => {
        document.getElementById('roll').disabled = false;
      }, 2000); // Increased duration
    }
    
// Update history display
// Update history display
function updateHistory() {
  const historyElement = document.getElementById('history');
  historyElement.innerHTML = `
    <table>
      <thead>
        <tr>
          <th>Roll Number</th>
          <th>Die 1</th>
          <th>Die 2</th>
          <th>Total</th>
          <th>Running Total</th>
          <th>Profit</th>
        </tr>
      </thead>
      <tbody id="history-body">
      </tbody>
    </table>
  `;

  const historyBody = document.getElementById('history-body');
  let runningTotal = 0;
  let profitMultiplier = 1; // Default multiplier

  // Determine the profit multiplier based on the slot result
  const slotResult = document.querySelector('.slot-face.highlighted');
  if (slotResult) {
    if (slotResult.classList.contains('boon')) {
      profitMultiplier = 1.35;
    } else if (slotResult.classList.contains('neutral')) {
      profitMultiplier = 1;
    } else if (slotResult.classList.contains('bust')) {
      profitMultiplier = 0.85;
    }
  }

  // Iterate through the rollHistory array in reverse order
  for (let index = rollHistory.length - 1; index >= 0; index--) {
    const roll = rollHistory[index];
    runningTotal += roll.sum;
    // Check if either dice1 or dice2 is 1 and reset running total to 0
    if (roll.dice1 === 1 || roll.dice2 === 1) {
      runningTotal = 0;
    }
    const profit = (runningTotal * profitMultiplier).toFixed(2); // Calculate profit
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${rollHistory.length - index}</td>
      <td>${roll.dice1}</td>
      <td>${roll.dice2}</td>
      <td>${roll.sum}</td>
      <td>${runningTotal}</td>
      <td>${profit}</td>
    `;

    // Check if either dice1 or dice2 is 1 and add a class to the row and remove button
    if (roll.dice1 === 1 || roll.dice2 === 1) {
      row.classList.add('highlight-red');
      document.getElementById('roll').style.display = 'none';
    }

    historyBody.appendChild(row);
  }

  if (rollHistory.length === 0) {
    historyBody.innerHTML = '<tr><td colspan="6">No rolls yet</td></tr>';
  }
}


// Reset history
    function resetHistory() {
      rollHistory = [];
      updateHistory();
      document.getElementById('roll').style.display = 'block'; // Show the roll button
      document.getElementById('spin').style.display = 'block'; // Show the spin button

      // Turn off the highlighting of the currently highlighted block
  if (highlightedBlock) {
    highlightedBlock.classList.remove('highlighted');
    highlightedBlock = null; // Reset the highlightedBlock variable
  }
    }
    
    // Event listeners
    document.getElementById('roll').addEventListener('click', rollDice);
    document.getElementById('reset').addEventListener('click', resetHistory);
    
    // Initialize history display
    updateHistory();
    
    // Create slot strips with all faces
    function createSlotStrip(stripId) {
      const strip = document.getElementById(stripId);
      strip.innerHTML = '';
      
      // Create multiple sets of slot faces for the animation effect
      const slotFaces = ['BOON', 'Neutral', 'BUST'];
      for (let j = 0; j < 5; j++) { // Increased repetitions
        for (let i = 0; i < slotFaces.length; i++) {
          const face = document.createElement('div');
          face.className = `slot-face ${slotFaces[i].toLowerCase()}`;
          face.textContent = slotFaces[i];
          strip.appendChild(face);
        }
      }
      
      return strip;
    }
    
    const slotStrip1 = createSlotStrip('slot-strip1');
    
    // Set initial position
    slotStrip1.style.top = '0px';
    
    // Function to animate and spin slots
    function spinSlots() {
      const slotFaces = ['BOON', 'Neutral', 'BUST'];
      const slot1 = Math.floor(Math.random() * slotFaces.length);
      
      // Calculate final positions (middle set of faces)
      const faceHeight = 100; // Height of each slot face in pixels
      const finalPos1 = -((slot1 + slotFaces.length * 2) * faceHeight); // +slotFaces.length * 2 to target middle set
      
      // Start from random position in the first set
      const startPos1 = -(Math.floor(Math.random() * slotFaces.length) * faceHeight);
      
      slotStrip1.style.transition = 'none';
      slotStrip1.style.top = `${startPos1}px`;
      
      // Force reflow
      void slotStrip1.offsetHeight;
      
      // Set animation
      slotStrip1.style.transition = 'top 2s ease-out'; // Increased duration
      slotStrip1.style.top = `${finalPos1}px`;
      
      // Disable button during animation
      document.getElementById('spin').disabled = true;
      setTimeout(() => {
        document.getElementById('spin').disabled = false;
      }, 2000); // Increased duration

      // Hide the button after clicking it once
         document.getElementById('spin').style.display = 'none';

           // Remove the highlighted class from any previously highlighted slot face
  const previousHighlighted = document.querySelector('.slot-face.highlighted');
  if (previousHighlighted) {
    previousHighlighted.classList.remove('highlighted');
  }

  // Add the highlighted class to the slot face element that represents the result of the spin
  const slotFacesElements = document.querySelectorAll('.slot-face');
  slotFacesElements[slot1 + slotFaces.length].classList.add('highlighted'); // Target the middle set
    }
    
    
    // Event listeners
    document.getElementById('spin').addEventListener('click', spinSlots);
  </script>
</body>
</html>
</div>

                    </div>
                    
                </div>
            </div>
        </section>
        
            <footer class="footer">
    <div class="container">
        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
        </div>
    </div>
</footer>

        
        <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
</body>
</html>
